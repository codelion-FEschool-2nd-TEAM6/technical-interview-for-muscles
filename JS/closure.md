클로저를 이해하기 위해서는 렉시컬 환경이 무슨 의미있지 이해할 필요가 있다.

렉시컬 환경이란 코드블록, 함수, 스크립트를 실행하기 앞서 생성되는 객체로, 실행할 스코프 내부에 있는 변수와 함수를 프로퍼티로 저장하는 객체이다.

## 클로저의 개념

내부함수와 렉시컬 환경의 조합이며 특별한 상황에서 발생하는 것이 아니고 함수가 생성될 때 매번 같이 발생한다.

하지만 컨텍스트 A에서 선언한 변수를 내부함수 B에서 참조할 경우 발생하는 특별한 현상에서 주로 클로저의 개념을 활용한다.

## 클로저 예시

```jsx
var outer = function () {
  var a = 1;
  var inner = function() {
    return ++a
  }
  return inner
};

var outer2 = outer()
console.log(outer2()) // 2
console.log(outer2()) // 3
```

### 전역

변수 a는 outer함수를 호출하기 직전에는 outer변수에만 함수가 담겨 있는 상태이며,

outer2는 outer함수의 실행이 종료된 시점이 되어야 값이 할당된다(undefined상태)

### outer함수 실행시

이 상태에서 outer를 호출하면 outer에 대한 실행 컨텍스트가 쌓이면서

a에는 1이, Inner에는 함수가 할당된다.

### outer함수 종료시

이상태에서 함수 실행이 끝나면 반환된 값인 inner가 outer2에 할당된다.

`outer라고 하는 실행 컨텍스트는 종료가 되었는데 내부에서 선언한 변수 a가 죽지 않고 살아있다.`

이 상태에서 outer2함수를 실행하면 inner함수에 대한 실행컨텍스트가 쌓인다.

inner 컨텍스트 내부에서 a에 접근을 했는데 a는 1에서 2로 바뀌고 outer는 참조를 하고 있을 뿐이니까 같이 바뀐다.

따라서 클로저란 컨텍스트 A에서 선언한 변수 a를 참조하는 내부함수 B를 A의 외부로 전달할 경우, A가 종료된 이후에도 a가 사라지지 않는 현상이다.

## 클로저의 장점

→ 지역변수가 함수 종료 후에도 사라지지 않게 할 수 있다.
